---
title: "state network regression"
format: html
editor: visual
---

## State Network Regression

```{r}
library(tidyverse)
library(igraph)

bill_edge_list <- read_csv("data/edge-list.csv")
tweets_df <- read_csv("data/full-labelled-tweets.csv")
states_df <- read_csv("raw-data/state-traits-edgelist.csv")
```

```{r}
#summarize tweets by governor
governor_tweets_df <- tweets_df %>% 
  select(name, state, 
         pro_blm_count, topic_blm_count, total_count, 
         pro_blm_ratio, topic_blm_ratio) %>% 
  distinct()

#merge gov tweets with states edge list 
merged_edge_list <- bill_edge_list %>% 
  left_join(governor_tweets_df, by = "state") 

#merge with state traits
full_edge_list <- merged_edge_list %>% 
  left_join(states_df, by = c("state" = "state_01", "state-j" = "state_02"))

#everything is joined! should filter out unnecessary variables next
```
